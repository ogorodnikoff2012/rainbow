<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Rainbow</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous"> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> <script src="http://code.jquery.com/color/jquery.color-2.1.2.min.js"></script> <script>const models={"Rainbow":["#f00","#ff0","#0f0","#0ff","#00f","#f0f"],"Zebra":["#000","#fff"]};let runModel=(function(){let f=function(model,speed){f.abortAll();let body=$("body");function run(model,speed){for(let i=0;i<model.length-1;++i){body=body.animate({"background-color":model[i]},speed,"linear");} body.animate({"background-color":model[model.length-1]},speed,"linear",function(){if(f.__allowReschedule){run(model,speed);}});} run(model,speed);};f.__allowReshedule=true;f.abortAll=function(){f.__allowReschedule=false;$("body").finish();f.__allowReschedule=true;};return f;})();function setupPanelAutoHide(selector){function panelHide(){$(selector).not(":hover").delay(5000).fadeTo(1000,0);} function panelShow(){$(selector).stop().fadeTo(150,0.9,"swing",panelHide);} $(document).mousemove(panelShow);$(selector).hide();panelShow();} function colorModelId(modelName){return"color-model-"+modelName;} function getSpeed(){return parseInt($("#speed").val());} function getModel(){const modelName=$("input[name='color-model']:checked").val();return models[modelName];} $(document).ready(function(){setupPanelAutoHide("#settings");let firstModel=null;for(const modelName in models){if(firstModel===null){firstModel=modelName;} const id=colorModelId(modelName);let button=$("<input type="radio" class="btn-check" name="color-model" value="" + modelName + "" id="" + id + "" autocomplete="off">");let label=$("<label class="btn btn-outline-primary" for="" + id + "">"+modelName+"</label>");button.click((function(modelName){return function(){runModel(models[modelName],getSpeed());};})(modelName));$("#color-model").append(button,label);} if(firstModel!==null){$("#"+colorModelId(firstModel)).click();} $("#speed").change(function(){$("#speed-lbl").text("Speed: "+getSpeed());runModel(getModel(),getSpeed());}).val(1000).change();});</script> <style>html,body{height:100%}</style></head><body><div class="container h-100"><div class="row d-flex h-100 align-items-center justify-content-center"><div class="col-6"><div class="card text-center" id="settings"><div class="card-body"><h1 class="card-title">Party Rainbow Settings</h1><div class="row"> <label for="color-model" class="form-label">Color model</label><div class="btn-group" role="group" id="color-model"></div></div><div class="row"> <label for="speed" class="form-label" id="speed-lbl">Speed:</label> <input type="range" class="form-range" id="speed" min="50" max="1500" step="50"></div><div class="row"><p class="card-text">Vladimir Ogorodnikov, 2021</p></div></div></div></div></div></div> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script></body></html>
